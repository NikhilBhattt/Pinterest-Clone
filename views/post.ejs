<% include ./partials/header.ejs %>

<div
  class="w-full min-h-screen overflow-hidden bg-zinc-800 px-10 py-5 text-white flex justify-center"
>
  <div class="px-10 h-full w-full md:max-w-[23vw] max-w-[75vw] mt-[10vh]">
    <h1 class="text-4xl mb-2">Create New Post</h1>
    <hr class="w-full opacity-30 mb-4"/>
    <form class="flex items-center justify-center flex-col" action="/create-post" method="post" enctype="multipart/form-data">
      <input
        name="postImage" hidden
        type="file" id="upload-image"
      />
      <div id="upload-icon" class="w-full cursor-pointer bg-red-500 hover:bg-red-600 text-center py-3 text-lg font-semibold mb-3 rounded-xl">
        Upload Image
      </div>
      <input
        name="title"
        class="block w-full px-5 py-3 mb-3 rounded-xl text-black"
        type="text"
        placeholder="Title"
      />
      <textarea
        name="description"
        class="block w-full h-[25vh] px-5 py-3 mb-3 rounded-xl text-black resize-none"
        type="text"
        placeholder="Description..."
      ></textarea>
      <input
        class="block cursor-pointer px-5 text-md font-semibold py-3 bg-red-500 hover:bg-red-600 rounded-lg"
        type="submit"
        value="Create Post"
      />
    </form>
  </div>
</div>
<script>
  document.getElementById("upload-icon").addEventListener('click', () => {
    document.getElementById("upload-image").click();
  })
  document.getElementById("upload-image").addEventListener('change', (e) => {
    var file = e.target.files[0];
    var filesize = Math.round((file.size / 1024) * 100) / 100
    document.getElementById("upload-icon").innerText = `${file.name} ${filesize}kb`;
  })
</script>

<% include ./partials/footer.ejs %>
